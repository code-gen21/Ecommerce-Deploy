{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kandw\\\\Desktop\\\\Ecommerce\\\\ecommerce-frontend\\\\src\\\\components\\\\OrdersAdminPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport axios from '../axios';\nimport Loading from './Loading.js';\nimport { Badge, Button, Table } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction OrdersAdminPage() {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const products = useSelector(state => state.products);\n  const [orderToShow, setOrderToShow] = useState([]);\n  const [show, setShow] = useState(false);\n  function markShipped(orderId, ownerId) {\n    axios.patch(`/orders/${orderId}/mark-shipped`, {\n      ownerId\n    }).then(_ref => {\n      let {\n        data\n      } = _ref;\n      return setOrders(data);\n    }).catch(e => console.log(e));\n  }\n  function showOrder() {}\n  useEffect(() => {\n    setLoading(true);\n    axios.get('/orders').then(_ref2 => {\n      let {\n        data\n      } = _ref2;\n      setLoading(false);\n      setOrders(data);\n    }).catch(e => {\n      setLoading(false);\n    });\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 20\n    }, this);\n  }\n  if (orders.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center pt-4\",\n      children: \"No orders yet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 20\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Table, {\n    responsive: true,\n    striped: true,\n    bordered: true,\n    hover: true,\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"#\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Client name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Order Total\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: orders.map(order => {\n        var _order$owner;\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: order._id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: (_order$owner = order.owner) === null || _order$owner === void 0 ? void 0 : _order$owner.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: order.count\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\"$\", order.total]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: order.address\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: order.status === 'processing' ? /*#__PURE__*/_jsxDEV(Button, {\n              size: \"sm\",\n              onClick: () => {\n                var _order$owner2;\n                return markShipped(order._id, (_order$owner2 = order.owner) === null || _order$owner2 === void 0 ? void 0 : _order$owner2.id);\n              },\n              children: \"Mark as shipped\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 52\n            }, this) : /*#__PURE__*/_jsxDEV(Badge, {\n              bg: \"success\",\n              children: \"Shipped\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 149\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                cursor: 'pointer'\n              },\n              onClick: () => showOrder(products),\n              children: [\"View Order \", /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-eye\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 32\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 33\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 10\n  }, this);\n}\n_s(OrdersAdminPage, \"3dCjRtu5E+LdxENtRiFQ2i8owlA=\", false, function () {\n  return [useSelector];\n});\n_c = OrdersAdminPage;\nexport default OrdersAdminPage;\nvar _c;\n$RefreshReg$(_c, \"OrdersAdminPage\");","map":{"version":3,"names":["React","useEffect","useState","useSelector","axios","Loading","Badge","Button","Table","jsxDEV","_jsxDEV","OrdersAdminPage","_s","orders","setOrders","loading","setLoading","products","state","orderToShow","setOrderToShow","show","setShow","markShipped","orderId","ownerId","patch","then","_ref","data","catch","e","console","log","showOrder","get","_ref2","fileName","_jsxFileName","lineNumber","columnNumber","length","className","children","responsive","striped","bordered","hover","map","order","_order$owner","_id","owner","name","count","total","address","status","size","onClick","_order$owner2","id","bg","style","cursor","_c","$RefreshReg$"],"sources":["C:/Users/kandw/Desktop/Ecommerce/ecommerce-frontend/src/components/OrdersAdminPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport axios from '../axios';\r\nimport Loading from './Loading.js'\r\nimport { Badge, Button, Table } from 'react-bootstrap';\r\n\r\nfunction OrdersAdminPage() {\r\n    const [orders,setOrders]=useState([]);\r\n    const [loading,setLoading]=useState(false);\r\n    const products=useSelector(state=>state.products);\r\n    const [orderToShow,setOrderToShow]=useState([]);\r\n    const [show,setShow]=useState(false);\r\n\r\n    function markShipped(orderId,ownerId){\r\n        axios.patch(`/orders/${orderId}/mark-shipped`,{ownerId}).then(({data})=>setOrders(data))\r\n        .catch((e)=>console.log(e))\r\n\r\n    }\r\n\r\n    function showOrder(){}\r\n\r\n    useEffect(()=>{\r\n        setLoading(true);\r\n        axios.get('/orders').then(({data})=>{\r\n            setLoading(false);\r\n            setOrders(data);\r\n        }).catch((e)=>{\r\n            setLoading(false);\r\n        }\r\n    )},[]);\r\n\r\n        if(loading){\r\n            return <Loading />\r\n        }\r\n        if(orders.length===0){\r\n            return <h1 className='text-center pt-4'>No orders yet</h1>\r\n        }\r\n  return <Table responsive striped bordered hover>\r\n        <thead>\r\n            <tr>\r\n                <th>#</th>\r\n                <th>Client name</th>\r\n                <th>Items</th>\r\n                {/* <th>Status</th> */}\r\n                {/* <th>Date</th> */}\r\n                <th>Order Total</th>\r\n                <th>Address</th>\r\n                {/* <th>&nbsp;</th> */}\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {orders.map(order=>(<tr>\r\n                <td>{order._id}</td>\r\n                <td>{order.owner?.name}</td>\r\n                <td>{order.count}</td>\r\n                <td>${order.total}</td>\r\n                <td>{order.address}</td>\r\n                <td>{order.status==='processing' ?(<Button size=\"sm\" onClick={()=>markShipped(order._id,order.owner?.id)}>Mark as shipped</Button>):<Badge bg=\"success\">Shipped</Badge>}</td>\r\n                <td><span style={{cursor:'pointer'}} onClick={()=>showOrder(products)}>\r\n                    View Order <i className=\"fa fa-eye\"></i>\r\n                    </span></td>\r\n            </tr>))}\r\n        </tbody>\r\n    </Table>\r\n}\r\n\r\nexport default OrdersAdminPage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}