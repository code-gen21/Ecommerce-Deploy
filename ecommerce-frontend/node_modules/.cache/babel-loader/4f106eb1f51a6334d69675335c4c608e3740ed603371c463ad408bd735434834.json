{"ast":null,"code":"import _objectSpread from\"C:/Users/kandw/Desktop/Ecommerce/ecommerce-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/kandw/Desktop/Ecommerce/ecommerce-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from'../axios';import React,{useEffect,useState}from'react';import{Col,Container,Row}from'react-bootstrap';import{useParams}from'react-router-dom';import Loading from'../components/Loading';import ProductPreview from'../components/ProductPreview';import'./CategoryPage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CategoryPage(){var _useParams=useParams(),category=_useParams.category;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),products=_useState4[0],setProducts=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),searchTerm=_useState6[0],setSearchTerm=_useState6[1];useEffect(function(){setLoading(true);axios.get(\"/products/category/\".concat(category)).then(function(_ref){var data=_ref.data;setLoading(false);setProducts(data);}).catch(function(e){setLoading(false);console.log(e.message);});},[category]);if(loading){/*#__PURE__*/_jsx(Loading,{});}var productsSearch=products.filter(function(product){return product.name.toLowerCase().includes(searchTerm.toLowerCase());});console.log(productsSearch);return/*#__PURE__*/_jsxs(\"div\",{className:\"category-page-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pt-3 \".concat(category,\"-banner-container category-banner-container\"),children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:category.charAt(0).toUpperCase()+category.slice(1)})}),/*#__PURE__*/_jsx(\"div\",{className:\"filters-container d-flex justify-content-center pt-4 pb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Search\",onChange:function onChange(e){return setSearchTerm(e.target.value);}})}),productsSearch.length===0?/*#__PURE__*/_jsx(\"h1\",{children:\"No products to show\"}):/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:{span:10,offset:1},children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center flex-wrap\",children:productsSearch.map(function(product){return/*#__PURE__*/_jsx(ProductPreview,_objectSpread({},product));})})})})})]});}export default CategoryPage;","map":{"version":3,"names":["axios","React","useEffect","useState","Col","Container","Row","useParams","Loading","ProductPreview","jsx","_jsx","jsxs","_jsxs","CategoryPage","_useParams","category","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","products","setProducts","_useState5","_useState6","searchTerm","setSearchTerm","get","concat","then","_ref","data","catch","e","console","log","message","productsSearch","filter","product","name","toLowerCase","includes","className","children","charAt","toUpperCase","slice","type","placeholder","onChange","target","value","length","md","span","offset","map","_objectSpread"],"sources":["C:/Users/kandw/Desktop/Ecommerce/ecommerce-frontend/src/pages/CategoryPage.js"],"sourcesContent":["import axios from '../axios';\r\nimport React, { useEffect,useState } from 'react'\r\nimport {Col,Container,Row} from 'react-bootstrap';\r\nimport { useParams } from 'react-router-dom';\r\nimport Loading from '../components/Loading';\r\nimport ProductPreview from '../components/ProductPreview';\r\nimport './CategoryPage.css'\r\nfunction CategoryPage() {\r\n    const {category}=useParams();\r\n    const [loading,setLoading]=useState(false);\r\n    const [products,setProducts]=useState([]);\r\n    const [searchTerm,setSearchTerm]=useState(\"\");\r\n\r\n    useEffect(()=>{\r\n        setLoading(true);\r\n        axios.get(`/products/category/${category}`).then(({data})=>{\r\n            setLoading(false);\r\n            setProducts(data);\r\n        })\r\n        .catch((e)=>{\r\n            setLoading(false);\r\n            console.log(e.message);\r\n        })\r\n    },[category])\r\n    if(loading){\r\n        <Loading />\r\n    }\r\n    const productsSearch=products.filter((product)=>product.name.toLowerCase().includes(searchTerm.toLowerCase()))\r\n    console.log(productsSearch);\r\n        return <div className='category-page-container'>\r\n    <div className={`pt-3 ${category}-banner-container category-banner-container`}>\r\n        <h1 className='text-center'>{category.charAt(0).toUpperCase()+category.slice(1)}</h1>\r\n    </div>\r\n\r\n    <div className='filters-container d-flex justify-content-center pt-4 pb-4'>\r\n        <input type=\"search\" placeholder='Search' onChange={(e)=>setSearchTerm(e.target.value)} />\r\n    </div>\r\n    {productsSearch.length===0?<h1>No products to show</h1>:<Container>\r\n            <Row>\r\n                <Col md={{span:10,offset:1}}>\r\n                    <div className='d-flex justify-content-center align-items-center flex-wrap'>\r\n                    {productsSearch.map(product=><ProductPreview {...product} />)}\r\n                    </div>\r\n                </Col>\r\n            </Row>\r\n        </Container>}\r\n  </div>\r\n}\r\n\r\nexport default CategoryPage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}