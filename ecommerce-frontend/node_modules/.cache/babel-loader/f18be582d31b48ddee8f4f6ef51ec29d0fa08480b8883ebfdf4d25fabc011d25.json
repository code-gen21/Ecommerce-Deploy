{"ast":null,"code":"import _slicedToArray from\"C:/Users/kandw/Desktop/Ecommerce/ecommerce-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./OrdersPage.css';import{useSelector}from'react-redux';import{Badge,Container,Table}from'react-bootstrap';import axios from'../axios';import Loading from'../components/Loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function OrdersPage(){var user=useSelector(function(state){return state.user;});var products=useSelector(function(state){return state.products;});var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),orderToShow=_useState6[0],setOrderToShow=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),show=_useState8[0],setShow=_useState8[1];useEffect(function(){setLoading(true);axios.get(\"/users/\".concat(user._id,\"/orders\")).then(function(_ref){var data=_ref.data;setLoading(false);setOrders(data);}).catch(function(e){setLoading(false);console.log(e);});},[]);if(loading){return/*#__PURE__*/_jsx(Loading,{});}if(orders.length===0){return/*#__PURE__*/_jsx(\"h1\",{className:\"text-center pt-3\",children:\"No orders yet\"});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center\",children:\"Your orders\"}),/*#__PURE__*/_jsxs(Table,{responsive:true,striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(function(order){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order._id}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Badge,{bg:\"\".concat(order.status==='processing'?\"warning\":\"success\"),text:\"white\",children:order.status})}),/*#__PURE__*/_jsx(\"td\",{children:order.date}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",order.total]})]});})})]})]});}export default OrdersPage;","map":{"version":3,"names":["React","useState","useEffect","useSelector","Badge","Container","Table","axios","Loading","jsx","_jsx","jsxs","_jsxs","OrdersPage","user","state","products","_useState","_useState2","_slicedToArray","orders","setOrders","_useState3","_useState4","loading","setLoading","_useState5","_useState6","orderToShow","setOrderToShow","_useState7","_useState8","show","setShow","get","concat","_id","then","_ref","data","catch","e","console","log","length","className","children","responsive","striped","bordered","hover","map","order","bg","status","text","date","total"],"sources":["C:/Users/kandw/Desktop/Ecommerce/ecommerce-frontend/src/pages/OrdersPage.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport './OrdersPage.css'\r\nimport { useSelector } from 'react-redux'\r\nimport { Badge,Container,Table } from 'react-bootstrap';\r\nimport axios from '../axios';\r\nimport Loading from '../components/Loading';\r\n\r\nfunction OrdersPage() {\r\n    const user=useSelector(state=>state.user);\r\n    const products=useSelector(state=>state.products);\r\n    const [orders,setOrders]=useState([]);\r\n    const [loading,setLoading]=useState(false);\r\n    const [orderToShow,setOrderToShow]=useState([]);\r\n    const [show,setShow]=useState(false);\r\n\r\n    useEffect(()=>{\r\n        setLoading(true);\r\n        axios.get(`/users/${user._id}/orders`).then(({data})=>{\r\n            setLoading(false);\r\n            setOrders(data);\r\n        }).catch((e)=>{\r\n            setLoading(false);\r\n            console.log(e);\r\n        })\r\n    },[]);\r\n    if(loading){\r\n        return <Loading />;\r\n    }\r\n    if(orders.length===0){\r\n        return <h1 className='text-center pt-3'>No orders yet</h1>\r\n    }\r\n  return<Container>\r\n    <h1 className='text-center'>Your orders</h1>\r\n    <Table responsive striped bordered hover>\r\n        <thead>\r\n            <tr>\r\n                <th>#</th>\r\n                <th>Status</th>\r\n                <th>Date</th>\r\n                <th>Total</th>\r\n                {/* <th>&nbsp;</th> */}\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {orders.map(order=>(<tr>\r\n                <td>{order._id}</td>\r\n                <td><Badge bg={`${order.status==='processing'?\"warning\":\"success\"}`} text=\"white\">{order.status}</Badge></td>\r\n                <td>{order.date}</td>\r\n                <td>${order.total}</td>\r\n            </tr>))}\r\n        </tbody>\r\n    </Table>\r\n  </Container>\r\n}\r\n\r\nexport default OrdersPage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}